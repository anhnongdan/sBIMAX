(function(){
/*!!
     * Copyright (C) 2015 Pavel Savshenko
     * Copyright (C) 2011 Google Inc.  All rights reserved.
     * Copyright (C) 2007, 2008 Apple Inc.  All rights reserved.
     * Copyright (C) 2008 Matt Lilek <webkit@mattlilek.com>
     * Copyright (C) 2009 Joseph Pecoraro
     *
     * Redistribution and use in source and binary forms, with or without
     * modification, are permitted provided that the following conditions
     * are met:
     *
     * 1.  Redistributions of source code must retain the above copyright
     *     notice, this list of conditions and the following disclaimer.
     * 2.  Redistributions in binary form must reproduce the above copyright
     *     notice, this list of conditions and the following disclaimer in the
     *     documentation and/or other materials provided with the distribution.
     * 3.  Neither the name of Apple Computer, Inc. ("Apple") nor the names of
     *     its contributors may be used to endorse or promote products derived
     *     from this software without specific prior written permission.
     *
     * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS "AS IS" AND ANY
     * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
     * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
     * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY
     * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
     * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
     * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
     * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
     * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
     * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
     */
var h={};
h.cssPath=function(aE,aC){if(aE.nodeType!==Node.ELEMENT_NODE){return""}var aB=[];var aA=aE;while(aA){var aD=h._cssPathStep(aA,!!aC,aA===aE);if(!aD){break}aB.push(aD);if(aD.optimized){break}aA=aA.parentNode}aB.reverse();return aB.join(" > ")};h._cssPathStep=function(aP,aH,aO){if(aP.nodeType!==Node.ELEMENT_NODE){return null}var aN=aP.getAttribute("id");if(aH){if(aN){return new h.DOMNodePathStep(aV(aN),true)}var aB=aP.nodeName.toLowerCase();if(aB==="body"||aB==="head"||aB==="html"){return new h.DOMNodePathStep(aP.nodeName.toLowerCase(),true)}}var aA=aP.nodeName.toLowerCase();if(aN){return new h.DOMNodePathStep(aA.toLowerCase()+aV(aN),true)}var aI=aP.parentNode;if(!aI||aI.nodeType===Node.DOCUMENT_NODE){return new h.DOMNodePathStep(aA.toLowerCase(),true)}function a1(a3){var a4=a3.getAttribute("class");if(!a4){return[]}return a4.split(/\s+/g).filter(Boolean).map(function(a5){return"$"+a5})}function aV(a3){return"#"+a0(a3)}function a0(a4){if(aW(a4)){return a4}var a3=/^(?:[0-9]|-[0-9-]?)/.test(a4);
var a5=a4.length-1;return a4.replace(/./g,function(a7,a6){return((a3&&a6===0)||!aC(a7))?aE(a7,a6===a5):a7})}function aE(a4,a3){return"\\"+aM(a4)+(a3?"":" ")}function aM(a4){var a3=a4.charCodeAt(0).toString(16);if(a3.length===1){a3="0"+a3}return a3}function aC(a3){if(/[a-zA-Z0-9_\-]/.test(a3)){return true}return a3.charCodeAt(0)>=160}function aW(a3){return/^-?[a-zA-Z_][a-zA-Z0-9_\-]*$/.test(a3)}function aR(a3){var a5={},a4;for(a4=0;a4<a3.length;a4++){a5[a3[a4]]=true}return a5}var aK=a1(aP);var aL=false;var aT=false;var aU=-1;var aG=aI.children;for(var aS=0;(aU===-1||!aT)&&aS<aG.length;++aS){var aX=aG[aS];if(aX===aP){aU=aS;continue}if(aT){continue}if(aX.nodeName.toLowerCase()!==aA.toLowerCase()){continue}aL=true;var a2=aR(aK);var aF=aK.length;if(aF===0){aT=true;continue}var aZ=a1(aX);for(var aQ=0;aQ<aZ.length;++aQ){var aD=aZ[aQ];if(!a2.hasOwnProperty(aD)){continue}delete a2[aD];aF--;if(!aF){aT=true;break}}}var aJ=aA.toLowerCase();if(aO&&aA.toLowerCase()==="input"&&aP.getAttribute("type")&&!aP.getAttribute("id")&&!aP.getAttribute("class")){aJ+='[type="'+aP.getAttribute("type")+'"]'
}if(aT){aJ+=":nth-child("+(aU+1)+")"}else{if(aL){for(var aY=0;aY<aK.length;aY++){aJ+="."+a0(aK[aY].substr(1))}}}return new h.DOMNodePathStep(aJ,false)};h.DOMNodePathStep=function(aB,aA){this.value=aB;this.optimized=aA||false};h.DOMNodePathStep.prototype={toString:function(){return this.value}}
/*!!
 * Copyright 2011 Google Inc.
 *
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
;var b=function(aD,aA){for(var aC in aA){if(aA.hasOwnProperty(aC)){aD[aC]=aA[aC]}}function aB(){this.constructor=aD
}aB.prototype=aA.prototype;aD.prototype=new aB()};var A;if(typeof WebKitMutationObserver!=="undefined"){A=WebKitMutationObserver}else{if(typeof MutationObserver!=="undefined"){A=MutationObserver}}if(typeof A!=="undefined"&&A){var F=(function(){function aA(){this.nodes=[];this.values=[]}aA.prototype.isIndex=function(aB){return +aB===aB>>>0};aA.prototype.nodeId=function(aB){var aC=aB[aA.ID_PROP];if(!aC){aC=aB[aA.ID_PROP]=aA.nextId_++}return aC};aA.prototype.set=function(aB,aC){var aD=this.nodeId(aB);this.nodes[aD]=aB;this.values[aD]=aC};aA.prototype.get=function(aB){var aC=this.nodeId(aB);return this.values[aC]};aA.prototype.has=function(aB){return this.nodeId(aB) in this.nodes};aA.prototype["delete"]=function(aB){var aC=this.nodeId(aB);delete this.nodes[aC];this.values[aC]=undefined};aA.prototype.keys=function(){var aB=[];for(var aC in this.nodes){if(!this.isIndex(aC)){continue}aB.push(this.nodes[aC])}return aB};aA.ID_PROP="__mutation_summary_node_map_id__";aA.nextId_=1;return aA})();var ao;
(function(aA){aA[aA.STAYED_OUT=0]="STAYED_OUT";aA[aA.ENTERED=1]="ENTERED";aA[aA.STAYED_IN=2]="STAYED_IN";aA[aA.REPARENTED=3]="REPARENTED";aA[aA.REORDERED=4]="REORDERED";aA[aA.EXITED=5]="EXITED"})(ao||(ao={}));function x(aA){return aA===ao.ENTERED||aA===ao.EXITED}var S=(function(){function aA(aH,aG,aC,aE,aD,aF,aB,aI){if(aG===void 0){aG=false}if(aC===void 0){aC=false}if(aE===void 0){aE=false}if(aD===void 0){aD=null}if(aF===void 0){aF=false}if(aB===void 0){aB=null}if(aI===void 0){aI=null}this.node=aH;this.childList=aG;this.attributes=aC;this.characterData=aE;this.oldParentNode=aD;this.added=aF;this.attributeOldValues=aB;this.characterDataOldValue=aI;this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}aA.prototype.getAttributeOldValue=function(aB){if(!this.attributeOldValues){return undefined}if(this.isCaseInsensitive){aB=aB.toLowerCase()}return this.attributeOldValues[aB]};aA.prototype.getAttributeNamesMutated=function(){var aC=[];
if(!this.attributeOldValues){return aC}for(var aB in this.attributeOldValues){aC.push(aB)}return aC};aA.prototype.attributeMutated=function(aC,aB){this.attributes=true;this.attributeOldValues=this.attributeOldValues||{};if(aC in this.attributeOldValues){return}this.attributeOldValues[aC]=aB};aA.prototype.characterDataMutated=function(aB){if(this.characterData){return}this.characterData=true;this.characterDataOldValue=aB};aA.prototype.removedFromParent=function(aB){this.childList=true;if(this.added||this.oldParentNode){this.added=false}else{this.oldParentNode=aB}};aA.prototype.insertedIntoParent=function(){this.childList=true;this.added=true};aA.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode){return this.oldParentNode}if(this.added){return null}}return this.node.parentNode};return aA})();var ae=(function(){function aA(){this.added=new F();this.removed=new F();this.maybeMoved=new F();this.oldPrevious=new F();this.moved=undefined}return aA})();var O=(function(aB){b(aA,aB);
function aA(aF,aD){aB.call(this);this.rootNode=aF;this.reachableCache=undefined;this.wasReachableCache=undefined;this.anyParentsChanged=false;this.anyAttributesChanged=false;this.anyCharacterDataChanged=false;for(var aC=0;aC<aD.length;aC++){var aE=aD[aC];switch(aE.type){case"childList":this.anyParentsChanged=true;for(var aG=0;aG<aE.removedNodes.length;aG++){var aH=aE.removedNodes[aG];this.getChange(aH).removedFromParent(aE.target)}for(var aG=0;aG<aE.addedNodes.length;aG++){var aH=aE.addedNodes[aG];this.getChange(aH).insertedIntoParent()}break;case"attributes":this.anyAttributesChanged=true;var aI=this.getChange(aE.target);aI.attributeMutated(aE.attributeName,aE.oldValue);break;case"characterData":this.anyCharacterDataChanged=true;var aI=this.getChange(aE.target);aI.characterDataMutated(aE.oldValue);break}}}aA.prototype.getChange=function(aC){var aD=this.get(aC);if(!aD){aD=new S(aC);this.set(aC,aD)}return aD};aA.prototype.getOldParent=function(aC){var aD=this.get(aC);return aD?aD.getOldParent():aC.parentNode
};aA.prototype.getIsReachable=function(aC){if(aC===this.rootNode){return true}if(!aC){return false}this.reachableCache=this.reachableCache||new F();var aD=this.reachableCache.get(aC);if(aD===undefined){aD=this.getIsReachable(aC.parentNode);this.reachableCache.set(aC,aD)}return aD};aA.prototype.getWasReachable=function(aC){if(aC===this.rootNode){return true}if(!aC){return false}this.wasReachableCache=this.wasReachableCache||new F();var aD=this.wasReachableCache.get(aC);if(aD===undefined){aD=this.getWasReachable(this.getOldParent(aC));this.wasReachableCache.set(aC,aD)}return aD};aA.prototype.reachabilityChange=function(aC){if(this.getIsReachable(aC)){return this.getWasReachable(aC)?ao.STAYED_IN:ao.ENTERED}return this.getWasReachable(aC)?ao.EXITED:ao.STAYED_OUT};return aA})(F);var G=(function(){function aA(aC,aB,aD,aF,aE){this.rootNode=aC;this.mutations=aB;this.selectors=aD;this.calcReordered=aF;this.calcOldPreviousSibling=aE;this.treeChanges=new O(aC,aB);this.entered=[];this.exited=[];this.stayedIn=new F();
this.visited=new F();this.childListChangeMap=undefined;this.characterDataOnly=undefined;this.matchCache=undefined;this.processMutations()}aA.prototype.processMutations=function(){if(!this.treeChanges.anyParentsChanged&&!this.treeChanges.anyAttributesChanged){return}var aB=this.treeChanges.keys();for(var aC=0;aC<aB.length;aC++){this.visitNode(aB[aC],undefined)}};aA.prototype.visitNode=function(aE,aC){if(this.visited.has(aE)){return}this.visited.set(aE,true);var aG=this.treeChanges.get(aE);var aD=aC;if((aG&&aG.childList)||aD==undefined){aD=this.treeChanges.reachabilityChange(aE)}if(aD===ao.STAYED_OUT){return}this.matchabilityChange(aE);if(aD===ao.ENTERED){this.entered.push(aE)}else{if(aD===ao.EXITED){this.exited.push(aE);this.ensureHasOldPreviousSiblingIfNeeded(aE)}else{if(aD===ao.STAYED_IN){var aB=ao.STAYED_IN;if(aG&&aG.childList){if(aG.oldParentNode!==aE.parentNode){aB=ao.REPARENTED;this.ensureHasOldPreviousSiblingIfNeeded(aE)}else{if(this.calcReordered&&this.wasReordered(aE)){aB=ao.REORDERED
}}}this.stayedIn.set(aE,aB)}}}if(aD===ao.STAYED_IN){return}for(var aF=aE.firstChild;aF;aF=aF.nextSibling){this.visitNode(aF,aD)}};aA.prototype.ensureHasOldPreviousSiblingIfNeeded=function(aD){if(!this.calcOldPreviousSibling){return}this.processChildlistChanges();var aB=aD.parentNode;var aC=this.treeChanges.get(aD);if(aC&&aC.oldParentNode){aB=aC.oldParentNode}var aE=this.childListChangeMap.get(aB);if(!aE){aE=new ae();this.childListChangeMap.set(aB,aE)}if(!aE.oldPrevious.has(aD)){aE.oldPrevious.set(aD,aD.previousSibling)}};aA.prototype.getChanged=function(aD,aF,aI){this.selectors=aF;this.characterDataOnly=aI;for(var aE=0;aE<this.entered.length;aE++){var aG=this.entered[aE];var aH=this.matchabilityChange(aG);if(aH===ao.ENTERED||aH===ao.STAYED_IN){aD.added.push(aG)}}var aB=this.stayedIn.keys();for(var aE=0;aE<aB.length;aE++){var aG=aB[aE];var aH=this.matchabilityChange(aG);if(aH===ao.ENTERED){aD.added.push(aG)}else{if(aH===ao.EXITED){aD.removed.push(aG)}else{if(aH===ao.STAYED_IN&&(aD.reparented||aD.reordered)){var aC=this.stayedIn.get(aG);
if(aD.reparented&&aC===ao.REPARENTED){aD.reparented.push(aG)}else{if(aD.reordered&&aC===ao.REORDERED){aD.reordered.push(aG)}}}}}}for(var aE=0;aE<this.exited.length;aE++){var aG=this.exited[aE];var aH=this.matchabilityChange(aG);if(aH===ao.EXITED||aH===ao.STAYED_IN){aD.removed.push(aG)}}};aA.prototype.getOldParentNode=function(aC){var aD=this.treeChanges.get(aC);if(aD&&aD.childList){return aD.oldParentNode?aD.oldParentNode:null}var aB=this.treeChanges.reachabilityChange(aC);if(aB===ao.STAYED_OUT||aB===ao.ENTERED){throw Error("getOldParentNode requested on invalid node.")}return aC.parentNode};aA.prototype.getOldPreviousSibling=function(aD){var aB=aD.parentNode;var aC=this.treeChanges.get(aD);if(aC&&aC.oldParentNode){aB=aC.oldParentNode}var aE=this.childListChangeMap.get(aB);if(!aE){throw Error("getOldPreviousSibling requested on invalid node.")}return aE.oldPrevious.get(aD)};aA.prototype.getOldAttribute=function(aC,aB){var aE=this.treeChanges.get(aC);if(!aE||!aE.attributes){throw Error("getOldAttribute requested on invalid node.")
}var aD=aE.getAttributeOldValue(aB);if(aD===undefined){throw Error("getOldAttribute requested for unchanged attribute name.")}return aD};aA.prototype.attributeChangedNodes=function(aJ){if(!this.treeChanges.anyAttributesChanged){return{}}var aE;var aG;if(aJ){aE={};aG={};for(var aK=0;aK<aJ.length;aK++){var aL=aJ[aK];aE[aL]=true;aG[aL.toLowerCase()]=aL}}var aN={};var aC=this.treeChanges.keys();for(var aK=0;aK<aC.length;aK++){var aF=aC[aK];var aM=this.treeChanges.get(aF);if(!aM.attributes){continue}if(ao.STAYED_IN!==this.treeChanges.reachabilityChange(aF)||ao.STAYED_IN!==this.matchabilityChange(aF)){continue}var aI=aF;var aD=aM.getAttributeNamesMutated();for(var aH=0;aH<aD.length;aH++){var aL=aD[aH];if(aE&&!aE[aL]&&!(aM.isCaseInsensitive&&aG[aL])){continue}var aB=aM.getAttributeOldValue(aL);if(aB===aI.getAttribute(aL)){continue}if(aG&&aM.isCaseInsensitive){aL=aG[aL]}aN[aL]=aN[aL]||[];aN[aL].push(aI)}}return aN};aA.prototype.getOldCharacterData=function(aB){var aC=this.treeChanges.get(aB);if(!aC||!aC.characterData){throw Error("getOldCharacterData requested on invalid node.")
}return aC.characterDataOldValue};aA.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged){return[]}var aC=this.treeChanges.keys();var aB=[];for(var aD=0;aD<aC.length;aD++){var aE=aC[aD];if(ao.STAYED_IN!==this.treeChanges.reachabilityChange(aE)){continue}var aF=this.treeChanges.get(aE);if(!aF.characterData||aE.textContent==aF.characterDataOldValue){continue}aB.push(aE)}return aB};aA.prototype.computeMatchabilityChange=function(aC,aE){if(!this.matchCache){this.matchCache=[]}if(!this.matchCache[aC.uid]){this.matchCache[aC.uid]=new F()}var aD=this.matchCache[aC.uid];var aB=aD.get(aE);if(aB===undefined){aB=aC.matchabilityChange(aE,this.treeChanges.get(aE));aD.set(aE,aB)}return aB};aA.prototype.matchabilityChange=function(aF){var aG=this;if(this.characterDataOnly){switch(aF.nodeType){case Node.COMMENT_NODE:case Node.TEXT_NODE:return ao.STAYED_IN;default:return ao.STAYED_OUT}}if(!this.selectors){return ao.STAYED_IN}if(aF.nodeType!==Node.ELEMENT_NODE){return ao.STAYED_OUT
}var aE=aF;var aC=this.selectors.map(function(aH){return aG.computeMatchabilityChange(aH,aE)});var aB=ao.STAYED_OUT;var aD=0;while(aB!==ao.STAYED_IN&&aD<aC.length){switch(aC[aD]){case ao.STAYED_IN:aB=ao.STAYED_IN;break;case ao.ENTERED:if(aB===ao.EXITED){aB=ao.STAYED_IN}else{aB=ao.ENTERED}break;case ao.EXITED:if(aB===ao.ENTERED){aB=ao.STAYED_IN}else{aB=ao.EXITED}break}aD++}return aB};aA.prototype.getChildlistChange=function(aB){var aC=this.childListChangeMap.get(aB);if(!aC){aC=new ae();this.childListChangeMap.set(aB,aC)}return aC};aA.prototype.processChildlistChanges=function(){if(this.childListChangeMap){return}this.childListChangeMap=new F();for(var aE=0;aE<this.mutations.length;aE++){var aC=this.mutations[aE];if(aC.type!="childList"){continue}if(this.treeChanges.reachabilityChange(aC.target)!==ao.STAYED_IN&&!this.calcOldPreviousSibling){continue}var aH=this.getChildlistChange(aC.target);var aB=aC.previousSibling;function aG(aJ,aI){if(!aJ||aH.oldPrevious.has(aJ)||aH.added.has(aJ)||aH.maybeMoved.has(aJ)){return
}if(aI&&(aH.added.has(aI)||aH.maybeMoved.has(aI))){return}aH.oldPrevious.set(aJ,aI)}for(var aD=0;aD<aC.removedNodes.length;aD++){var aF=aC.removedNodes[aD];aG(aF,aB);if(aH.added.has(aF)){aH.added["delete"](aF)}else{aH.removed.set(aF,true);aH.maybeMoved["delete"](aF)}aB=aF}aG(aC.nextSibling,aB);for(var aD=0;aD<aC.addedNodes.length;aD++){var aF=aC.addedNodes[aD];if(aH.removed.has(aF)){aH.removed["delete"](aF);aH.maybeMoved.set(aF,true)}else{aH.added.set(aF,true)}}}};aA.prototype.wasReordered=function(aC){if(!this.treeChanges.anyParentsChanged){return false}this.processChildlistChanges();var aD=aC.parentNode;var aI=this.treeChanges.get(aC);if(aI&&aI.oldParentNode){aD=aI.oldParentNode}var aG=this.childListChangeMap.get(aD);if(!aG){return false}if(aG.moved){return aG.moved.get(aC)}aG.moved=new F();var aB=new F();function aF(aL){if(!aL){return false}if(!aG.maybeMoved.has(aL)){return false}var aM=aG.moved.get(aL);if(aM!==undefined){return aM}if(aB.has(aL)){aM=true}else{aB.set(aL,true);aM=aK(aL)!==aJ(aL)
}if(aB.has(aL)){aB["delete"](aL);aG.moved.set(aL,aM)}else{aM=aG.moved.get(aL)}return aM}var aH=new F();function aJ(aM){var aL=aH.get(aM);if(aL!==undefined){return aL}aL=aG.oldPrevious.get(aM);while(aL&&(aG.removed.has(aL)||aF(aL))){aL=aJ(aL)}if(aL===undefined){aL=aM.previousSibling}aH.set(aM,aL);return aL}var aE=new F();function aK(aM){if(aE.has(aM)){return aE.get(aM)}var aL=aM.previousSibling;while(aL&&(aG.added.has(aL)||aF(aL))){aL=aL.previousSibling}aE.set(aM,aL);return aL}aG.maybeMoved.keys().forEach(aF);return aG.moved.get(aC)};return aA})();var T=(function(){function aA(aB,aE){var aG=this;this.projection=aB;this.added=[];this.removed=[];this.reparented=aE.all||aE.element||aE.characterData?[]:undefined;this.reordered=aE.all?[]:undefined;aB.getChanged(this,aE.elementFilter,aE.characterData);if(aE.all||aE.attribute||aE.attributeList){var aD=aE.attribute?[aE.attribute]:aE.attributeList;var aC=aB.attributeChangedNodes(aD);if(aE.attribute){this.valueChanged=aC[aE.attribute]||[]}else{this.attributeChanged=aC;
if(aE.attributeList){aE.attributeList.forEach(function(aH){if(!aG.attributeChanged.hasOwnProperty(aH)){aG.attributeChanged[aH]=[]}})}}}if(aE.all||aE.characterData){var aF=aB.getCharacterDataChanged();if(aE.characterData){this.valueChanged=aF}else{this.characterDataChanged=aF}}if(this.reordered){this.getOldPreviousSibling=aB.getOldPreviousSibling.bind(aB)}}aA.prototype.getOldParentNode=function(aB){return this.projection.getOldParentNode(aB)};aA.prototype.getOldAttribute=function(aC,aB){return this.projection.getOldAttribute(aC,aB)};aA.prototype.getOldCharacterData=function(aB){return this.projection.getOldCharacterData(aB)};aA.prototype.getOldPreviousSibling=function(aB){return this.projection.getOldPreviousSibling(aB)};return aA})();var ag=/[a-zA-Z_]+/;var ak=/[a-zA-Z0-9_\-]+/;function K(aA){return'"'+aA.replace(/"/,'\\"')+'"'}var af=(function(){function aA(){}aA.prototype.matches=function(aB){if(aB===null){return false}if(this.attrValue===undefined){return true}if(!this.contains){return this.attrValue==aB
}var aD=aB.split(" ");for(var aC=0;aC<aD.length;aC++){if(this.attrValue===aD[aC]){return true}}return false};aA.prototype.toString=function(){if(this.attrName==="class"&&this.contains){return"."+this.attrValue}if(this.attrName==="id"&&!this.contains){return"#"+this.attrValue}if(this.contains){return"["+this.attrName+"~="+K(this.attrValue)+"]"}if("attrValue" in this){return"["+this.attrName+"="+K(this.attrValue)+"]"}return"["+this.attrName+"]"};return aA})();var ar=(function(){function aA(){this.uid=aA.nextUid++;this.qualifiers=[]}Object.defineProperty(aA.prototype,"caseInsensitiveTagName",{get:function(){return this.tagName.toUpperCase()},enumerable:true,configurable:true});Object.defineProperty(aA.prototype,"selectorString",{get:function(){return this.tagName+this.qualifiers.join("")},enumerable:true,configurable:true});aA.prototype.isMatching=function(aB){return aB[aA.matchesSelector](this.selectorString)};aA.prototype.wasMatching=function(aD,aJ,aG){if(!aJ||!aJ.attributes){return aG}var aE=aJ.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;
if(aE!=="*"&&aE!==aD.tagName){return false}var aC=[];var aH=false;for(var aF=0;aF<this.qualifiers.length;aF++){var aI=this.qualifiers[aF];var aB=aJ.getAttributeOldValue(aI.attrName);aC.push(aB);aH=aH||(aB!==undefined)}if(!aH){return aG}for(var aF=0;aF<this.qualifiers.length;aF++){var aI=this.qualifiers[aF];var aB=aC[aF];if(aB===undefined){aB=aD.getAttribute(aI.attrName)}if(!aI.matches(aB)){return false}}return true};aA.prototype.matchabilityChange=function(aB,aD){var aC=this.isMatching(aB);if(aC){return this.wasMatching(aB,aD,aC)?ao.STAYED_IN:ao.ENTERED}else{return this.wasMatching(aB,aD,aC)?ao.EXITED:ao.STAYED_OUT}};aA.parseSelectors=function(aO){var aG=[];var aI;var aK;function aM(){if(aI){if(aK){aI.qualifiers.push(aK);aK=undefined}aG.push(aI)}aI=new aA()}function aL(){if(aK){aI.qualifiers.push(aK)}aK=new af()}var a0=/\s/;var aB;var aC="Invalid or unsupported selector syntax.";var aJ=1;var aT=2;var aN=3;var aU=4;var aY=5;var aR=6;var aD=7;var aW=8;var aE=9;var aS=10;var aZ=11;var aH=12;
var aQ=13;var aP=14;var aF=aJ;var aV=0;while(aV<aO.length){var aX=aO[aV++];switch(aF){case aJ:if(aX.match(ag)){aM();aI.tagName=aX;aF=aT;break}if(aX=="*"){aM();aI.tagName="*";aF=aN;break}if(aX=="."){aM();aL();aI.tagName="*";aK.attrName="class";aK.contains=true;aF=aU;break}if(aX=="#"){aM();aL();aI.tagName="*";aK.attrName="id";aF=aU;break}if(aX=="["){aM();aL();aI.tagName="*";aK.attrName="";aF=aR;break}if(aX.match(a0)){break}throw Error(aC);case aT:if(aX.match(ak)){aI.tagName+=aX;break}if(aX=="."){aL();aK.attrName="class";aK.contains=true;aF=aU;break}if(aX=="#"){aL();aK.attrName="id";aF=aU;break}if(aX=="["){aL();aK.attrName="";aF=aR;break}if(aX.match(a0)){aF=aP;break}if(aX==","){aF=aJ;break}throw Error(aC);case aN:if(aX=="."){aL();aK.attrName="class";aK.contains=true;aF=aU;break}if(aX=="#"){aL();aK.attrName="id";aF=aU;break}if(aX=="["){aL();aK.attrName="";aF=aR;break}if(aX.match(a0)){aF=aP;break}if(aX==","){aF=aJ;break}throw Error(aC);case aU:if(aX.match(ag)){aK.attrValue=aX;aF=aY;break}throw Error(aC);
case aY:if(aX.match(ak)){aK.attrValue+=aX;break}if(aX=="."){aL();aK.attrName="class";aK.contains=true;aF=aU;break}if(aX=="#"){aL();aK.attrName="id";aF=aU;break}if(aX=="["){aL();aF=aR;break}if(aX.match(a0)){aF=aP;break}if(aX==","){aF=aJ;break}throw Error(aC);case aR:if(aX.match(ag)){aK.attrName=aX;aF=aD;break}if(aX.match(a0)){break}throw Error(aC);case aD:if(aX.match(ak)){aK.attrName+=aX;break}if(aX.match(a0)){aF=aW;break}if(aX=="~"){aK.contains=true;aF=aE;break}if(aX=="="){aK.attrValue="";aF=aZ;break}if(aX=="]"){aF=aN;break}throw Error(aC);case aW:if(aX=="~"){aK.contains=true;aF=aE;break}if(aX=="="){aK.attrValue="";aF=aZ;break}if(aX=="]"){aF=aN;break}if(aX.match(a0)){break}throw Error(aC);case aE:if(aX=="="){aK.attrValue="";aF=aZ;break}throw Error(aC);case aS:if(aX=="]"){aF=aN;break}if(aX.match(a0)){break}throw Error(aC);case aZ:if(aX.match(a0)){break}if(aX=='"'||aX=="'"){aB=aX;aF=aQ;break}aK.attrValue+=aX;aF=aH;break;case aH:if(aX.match(a0)){aF=aS;break}if(aX=="]"){aF=aN;break}if(aX=="'"||aX=='"'){throw Error(aC)
}aK.attrValue+=aX;break;case aQ:if(aX==aB){aF=aS;break}aK.attrValue+=aX;break;case aP:if(aX.match(a0)){break}if(aX==","){aF=aJ;break}throw Error(aC)}}switch(aF){case aJ:case aT:case aN:case aY:case aP:aM();break;default:throw Error(aC)}if(!aG.length){throw Error(aC)}return aG};aA.nextUid=1;aA.matchesSelector=(function(){var aB=document.createElement("div");if(typeof aB.webkitMatchesSelector==="function"){return"webkitMatchesSelector"}if(typeof aB.mozMatchesSelector==="function"){return"mozMatchesSelector"}if(typeof aB.msMatchesSelector==="function"){return"msMatchesSelector"}return"matchesSelector"})();return aA})();var l=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/;function i(aA){if(typeof aA!="string"){throw Error("Invalid request opion. attribute must be a non-zero length string.")}aA=aA.trim();if(!aA){throw Error("Invalid request opion. attribute must be a non-zero length string.")}if(!aA.match(l)){throw Error("Invalid request option. invalid attribute name: "+aA)}return aA}function al(aG){if(!aG.trim().length){throw Error("Invalid request option: elementAttributes must contain at least one attribute.")
}var aF={};var aA={};var aE=aG.split(/\s+/);for(var aC=0;aC<aE.length;aC++){var aB=aE[aC];if(!aB){continue}var aB=i(aB);var aD=aB.toLowerCase();if(aF[aD]){throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.")}aA[aB]=true;aF[aD]=true}return Object.keys(aA)}function P(aB){var aA={};aB.forEach(function(aC){aC.qualifiers.forEach(function(aD){aA[aD.attrName]=true})});return Object.keys(aA)}var d=(function(){function aA(aB){var aC=this;this.connected=false;this.options=aA.validateOptions(aB);this.observerOptions=aA.createObserverOptions(this.options.queries);this.root=this.options.rootNode;this.callback=this.options.callback;this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(aD){return aD.elementFilter?aD.elementFilter:[]}));if(!this.elementFilter.length){this.elementFilter=undefined}this.calcReordered=this.options.queries.some(function(aD){return aD.all});this.queryValidators=[];if(aA.createQueryValidator){this.queryValidators=this.options.queries.map(function(aD){return aA.createQueryValidator(aC.root,aD)
})}this.observer=new A(function(aD){aC.observerCallback(aD)});this.reconnect()}aA.createObserverOptions=function(aC){var aE={childList:true,subtree:true};var aB;function aD(aF){if(aE.attributes&&!aB){return}aE.attributes=true;aE.attributeOldValue=true;if(!aF){aB=undefined;return}aB=aB||{};aF.forEach(function(aG){aB[aG]=true;aB[aG.toLowerCase()]=true})}aC.forEach(function(aG){if(aG.characterData){aE.characterData=true;aE.characterDataOldValue=true;return}if(aG.all){aD();aE.characterData=true;aE.characterDataOldValue=true;return}if(aG.attribute){aD([aG.attribute.trim()]);return}var aF=P(aG.elementFilter).concat(aG.attributeList||[]);if(aF.length){aD(aF)}});if(aB){aE.attributeFilter=Object.keys(aB)}return aE};aA.validateOptions=function(aB){for(var aH in aB){if(!(aH in aA.optionKeys)){throw Error("Invalid option: "+aH)}}if(typeof aB.callback!=="function"){throw Error("Invalid options: callback is required and must be a function")}if(!aB.queries||!aB.queries.length){throw Error("Invalid options: queries must contain at least one query request object.")
}var aF={callback:aB.callback,rootNode:aB.rootNode||document,observeOwnChanges:!!aB.observeOwnChanges,oldPreviousSibling:!!aB.oldPreviousSibling,queries:[]};for(var aC=0;aC<aB.queries.length;aC++){var aE=aB.queries[aC];if(aE.all){if(Object.keys(aE).length>1){throw Error("Invalid request option. all has no options.")}aF.queries.push({all:true});continue}if("attribute" in aE){var aG={attribute:i(aE.attribute)};aG.elementFilter=ar.parseSelectors("*["+aG.attribute+"]");if(Object.keys(aE).length>1){throw Error("Invalid request option. attribute has no options.")}aF.queries.push(aG);continue}if("element" in aE){var aD=Object.keys(aE).length;var aG={element:aE.element,elementFilter:ar.parseSelectors(aE.element)};if(aE.hasOwnProperty("elementAttributes")){aG.attributeList=al(aE.elementAttributes);aD--}if(aD>1){throw Error("Invalid request option. element only allows elementAttributes option.")}aF.queries.push(aG);continue}if(aE.characterData){if(Object.keys(aE).length>1){throw Error("Invalid request option. characterData has no options.")
}aF.queries.push({characterData:true});continue}throw Error("Invalid request option. Unknown query request.")}return aF};aA.prototype.createSummaries=function(aC){if(!aC||!aC.length){return[]}var aB=new G(this.root,aC,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling);var aE=[];for(var aD=0;aD<this.options.queries.length;aD++){aE.push(new T(aB,this.options.queries[aD]))}return aE};aA.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(aB){if(aB){aB.recordPreviousState()}})};aA.prototype.runQueryValidators=function(aB){this.queryValidators.forEach(function(aD,aC){if(aD){aD.validate(aB[aC])}})};aA.prototype.changesToReport=function(aB){return aB.some(function(aC){var aF=["added","removed","reordered","reparented","valueChanged","characterDataChanged"];if(aF.some(function(aG){return aC[aG]&&aC[aG].length})){return true}if(aC.attributeChanged){var aE=Object.keys(aC.attributeChanged);var aD=aE.some(function(aG){return !!aC.attributeChanged[aG].length
});if(aD){return true}}return false})};aA.prototype.observerCallback=function(aB){if(!this.options.observeOwnChanges){this.observer.disconnect()}var aC=this.createSummaries(aB);this.runQueryValidators(aC);if(this.options.observeOwnChanges){this.checkpointQueryValidators()}if(this.changesToReport(aC)){this.callback(aC)}if(!this.options.observeOwnChanges&&this.connected){this.checkpointQueryValidators();this.observer.observe(this.root,this.observerOptions)}};aA.prototype.reconnect=function(){if(this.connected){throw Error("Already connected")}this.observer.observe(this.root,this.observerOptions);this.connected=true;this.checkpointQueryValidators()};aA.prototype.takeSummaries=function(){if(!this.connected){throw Error("Not connected")}var aB=this.createSummaries(this.observer.takeRecords());return this.changesToReport(aB)?aB:undefined};aA.prototype.disconnect=function(){var aB=this.takeSummaries();this.observer.disconnect();this.connected=false;return aB};aA.NodeMap=F;aA.parseElementFilter=ar.parseSelectors;
aA.optionKeys={callback:true,queries:true,rootNode:true,oldPreviousSibling:true,observeOwnChanges:true};return aA})();var v=(function(){function aA(aG,aH,aB){var aF=this;this.target=aG;this.mirror=aH;this.nextId=1;this.knownNodes=new d.NodeMap();var aI=this.serializeNode(aG).id;var aD=[];for(var aC=aG.firstChild;aC;aC=aC.nextSibling){aD.push(this.serializeNode(aC,true))}this.mirror.initialize(aI,aD);var aJ=this;var aE=[{all:true}];if(aB){aE=aE.concat(aB)}this.mutationSummary=new d({rootNode:aG,callback:function(aK){aF.applyChanged(aK)},queries:aE})}aA.prototype.disconnect=function(){if(this.mutationSummary){this.mutationSummary.disconnect();this.mutationSummary=undefined}};aA.prototype.rememberNode=function(aB){var aC=this.nextId++;this.knownNodes.set(aB,aC);return aC};aA.prototype.forgetNode=function(aB){this.knownNodes["delete"](aB)};aA.prototype.serializeNode=function(aD,aE,aN){if(aD===null){return null}var aB=this.knownNodes.get(aD);if(aB!==undefined){return{id:aB}}var aO=(aB&&aB.parentNode)?aB.parentNode:null;
var aH={nodeType:aD.nodeType,id:this.rememberNode(aD)};while(aO&&!aN){if(az.hasAttribute(aO,"data-piwik-mask")){aN=true;break}else{aO=aO.parentNode?aO.parentNode:null}}switch(aH.nodeType){case Node.DOCUMENT_TYPE_NODE:var aJ=aD;aH.name=aJ.name;aH.publicId=aJ.publicId;aH.systemId=aJ.systemId;break;case Node.COMMENT_NODE:aH.textContent=" ";break;case Node.TEXT_NODE:if("undefined"!==typeof aD.parentNode&&aD.parentNode){var aF=aD.parentNode;if(aF.tagName==="TEXTAREA"&&(!at||aN||az.shouldMaskContent(aD,false))){aH.textContent=aj.trim(aD.textContent).replace(/./g,"*")}else{aH.textContent=aD.textContent}}else{aH.textContent=aD.textContent}break;case Node.ELEMENT_NODE:aH.tagName=aD.tagName;aH.attributes={};if("SCRIPT"===aH.tagName||"NOSCRIPT"===aH.tagName){break}for(var aG=0;aG<aD.attributes.length;aG++){var aI=aD.attributes[aG];if("INPUT"===aH.tagName&&aD.type&&aD.type==="hidden"&&"value"===aI.name){aH.attributes[aI.name]=""}else{if("INPUT"===aH.tagName&&"value"===aI.name&&(!at||aN||az.shouldMaskContent(aD,false))){aH.attributes[aI.name]=aI.value.replace(/./g,"*")
}else{aH.attributes[aI.name]=aI.value}}}if("IFRAME"===aH.tagName&&(aD.scrollWidth<=1||aD.scrollHeight<=1)){aH.attributes.src="about:blank"}else{if("META"===aH.tagName){if(aH.attributes.property&&String(aH.attributes.property).indexOf("og:")>=0){aH.attributes={}}else{if(aH.attributes.name){var aM=String(aH.attributes.name).toLowerCase();if(aM.indexOf("twitter:")>=0||aM.indexOf("description")>=0||aM.indexOf("keywords")>=0){aH.attributes={}}}}}else{if("LINK"===aH.tagName&&aH.attributes.rel){var aL=String(aH.attributes.rel).toLowerCase();var aK=["icon","preload","preconnect","dns-prefetch","next","prev","alternate","search"];if(aK.indexOf(aL)>=0){aH.attributes={}}}}}if(aE&&aD.childNodes.length){aH.childNodes=[];for(var aC=aD.firstChild;aC;aC=aC.nextSibling){aH.childNodes.push(this.serializeNode(aC,true,aN))}}break}return aH};aA.prototype.serializeAddedAndMoved=function(aE,aB,aF){var aH=this;var aD=aE.concat(aB).concat(aF);var aG=new d.NodeMap();aD.forEach(function(aK){var aJ=aK.parentNode;var aI=aG.get(aJ);
if(!aI){aI=new d.NodeMap();aG.set(aJ,aI)}aI.set(aK,true)});var aC=[];aG.keys().forEach(function(aJ){var aI=aG.get(aJ);var aL=aI.keys();while(aL.length){var aK=aL[0];while(aK.previousSibling&&aI.has(aK.previousSibling)){aK=aK.previousSibling}while(aK&&aI.has(aK)){var aM=aH.serializeNode(aK);aM.previousSibling=aH.serializeNode(aK.previousSibling);aM.parentNode=aH.serializeNode(aK.parentNode);aC.push(aM);aI["delete"](aK);aK=aK.nextSibling}var aL=aI.keys()}});return aC};aA.prototype.serializeAttributeChanges=function(aB){var aD=this;var aC=new d.NodeMap();Object.keys(aB).forEach(function(aE){aB[aE].forEach(function(aG){var aF=aC.get(aG);if(!aF){aF=aD.serializeNode(aG);aF.attributes={};aC.set(aG,aF)}aF.attributes[aE]=aG.getAttribute(aE)})});return aC.keys().map(function(aE){return aC.get(aE)})};aA.prototype.applyChanged=function(aE){var aH=this;var aC=aE[0];var aF=aC.removed.map(function(aI){return aH.serializeNode(aI)});var aD=this.serializeAddedAndMoved(aC.added,aC.reparented,aC.reordered);
var aB=this.serializeAttributeChanges(aC.attributeChanged);var aG=aC.characterDataChanged.map(function(aI){var aJ=aH.serializeNode(aI);aJ.textContent=aI.textContent;return aJ});this.mirror.applyChanged(aF,aD,aB,aG);aC.removed.forEach(function(aI){aH.forgetNode(aI)})};return aA})();
/*!!
     * Copyright (C) InnoCraft Ltd - All rights reserved.
     *
     * All information contained herein is, and remains the property of InnoCraft Ltd.
     *
     * @link https://www.innocraft.com/
     * @license For license details see https://www.innocraft.com/license
     */
}var I=document;var E=window;var B=0;var k=false;var H=!r();var m=null;var ai=false;var U="";var L=false;var u=10*60*1000;var am=2000;var y=1000;var D=100;var Q=500;var C=false;function r(){if("object"!==typeof JSON){return true}if("function"!==typeof Array.prototype.map||"function"!==typeof Array.prototype.filter||"function"!==typeof Array.prototype.indexOf){return true}if("function"!==typeof Element.prototype.getBoundingClientRect){return true
}var aA=["cc.bingj.com"];if(aA.indexOf(I.domain)!==-1||String(I.domain).indexOf(".googleusercontent.com")!==-1){return true}var aC=/alexa|baidu|bing|bot|crawler|curl|crawling|duckduckgo|facebookexternalhit|feedburner|googlebot|google web preview|linkdex|nagios|postrank|pingdom|robot|slurp|spider|yahoo!|yandex|wget/i.test(navigator.userAgent);if(aC){return true}var aB=String(I.referrer);if(aB&&aB.indexOf("module=Overlay&action=startOverlaySession")>=0){return true}return false}function M(){if(k&&"object"===typeof console){if(typeof console.debug==="function"){console.debug.apply(console,arguments)}else{if(typeof console.log==="function"){console.log.apply(console,arguments)}}}}var z=function(){return true};var p=1;var au=2;var g=3;var N=4;var av=5;var X=6;var a=7;var j=8;var e=9;var ah=10;var ap=0;var V=1;var c=2;var at=true;var J=false;var ad=false;var ay=true;var W={};if("object"===typeof JSON){W=JSON}var aa=false;var ac=[];var aw={hasObserver:function(){if(typeof WebKitMutationObserver!=="undefined"){return true
}else{if(typeof MutationObserver!=="undefined"){return true}}return false}};var Z=aw.hasObserver();var o={getScrollLeft:function(){return E.document.body.scrollLeft||E.document.documentElement.scrollLeft},getScrollTop:function(){return E.document.body.scrollTop||E.document.documentElement.scrollTop},getDocumentHeight:function(){return Math.max(I.body.offsetHeight,I.body.scrollHeight,I.documentElement.offsetHeight,I.documentElement.clientHeight,I.documentElement.scrollHeight,1)},getDocumentWidth:function(){return Math.max(I.body.offsetWidth,I.body.scrollWidth,I.documentElement.offsetWidth,I.documentElement.clientWidth,I.documentElement.scrollWidth,1)},getWindowSize:function(){var aA=E.innerHeight||I.documentElement.clientHeight||I.body.clientHeight;var aB=E.innerWidth||I.documentElement.clientWidth||I.body.clientWidth;return{width:aB,height:aA}}};var q={namespace:"hsr",set:function(aC,aG,aE){aG=parseInt(aG,10);aE=parseInt(aE,10);var aF="";var aB=q.getHsrConfigs(aC);var aD=false;for(var aA=0;
aA<aB.length;aA++){if(aB[aA]&&aB[aA].id===aG){aD=true;aB[aA].value=aE}aF+=aB[aA].id+"."+aB[aA].value+"_"}if(!aD){aF+=aG+"."+aE}aC.setSessionCookie(this.namespace,aF)},get:function(aC,aD){aD=parseInt(aD,10);var aB=q.getHsrConfigs(aC);for(var aA=0;aA<aB.length;aA++){if(aB[aA]&&aB[aA].id===aD){return aB[aA].value}}return null},getHsrConfigs:function(aD){var aE=aD.getCookie(this.namespace);if(!aE){return[]}var aC=[];var aF=String(aE).split("_"),aA;for(var aB=0;aB<aF.length;aB++){aA=aF[aB].split(".");if(aA&&aA.length===2){aC.push({id:parseInt(aA[0],10),value:parseInt(aA[1],10)})}}return aC}};var az={getAttribute:function(aB,aA){if(aB&&aB.getAttribute&&aA){return aB.getAttribute(aA)}return null},hasAttribute:function(aB,aA){if(aB&&aB.hasAttribute){return aB.hasAttribute(aA)}if(aB&&aB.attributes){var aC=(typeof aB.attributes[aA]);return aC!=="undefined"}return false},getTagName:function(aA){if(aA&&aA.tagName){return(""+aA.tagName).toLowerCase()}return null},getCssClasses:function(aB){if(aB&&aB.className){var aA=typeof aB.className==="string"?aj.trim(aB.className).split(/\s+/):[];
return aA}return[]},getHeight:function(aA){if(aA&&(aA.nodeType===9||aA.tagName==="HTML")){return o.getDocumentHeight()}if(aA===window){return I.documentElement.clientHeight}return Math.max(aA.scrollHeight,aA.offsetHeight,0)},getWidth:function(aA){if(aA&&(aA.nodeType===9||aA.tagName==="HTML")){return o.getDocumentWidth()}if(aA===window){return I.documentElement.clientWidth}return Math.max(aA.scrollWidth,aA.offsetWidth,0)},getOffset:function(aB){if(!aB.getBoundingClientRect){return}var aA=(aB&&aB.ownerDocument).documentElement;var aC=aB.getBoundingClientRect();return{top:Math.floor(aC.top)+(E.pageYOffset||I.scrollTop||0)-(aA.clientTop||0),left:Math.floor(aC.left)+(E.pageXOffset||I.scrollLeft||0)-(aA.clientLeft||0),width:Math.max(aC.width,az.getWidth(aB)),height:Math.max(aC.height,az.getHeight(aB))}},getSelector:function(aB,aA){return h.cssPath(aB,false)},shouldMaskContent:function(aF,aE){if(!aF){return false}var aB=az.getAttribute(aF,"name");var aA=az.getAttribute(aF,"autocomplete");if(az.hasAttribute(aF,"data-piwik-mask")||az.getAttribute(aF,"type")==="password"||aB==="credit-card-number"||aB==="cvv"||aB==="cvc"||aB==="ccname"||aB==="cc-name"||aB==="cardnumber"||aB==="cc-number"||aB==="password"||az.getAttribute(aF,"id")==="cvv"||aA==="cc-csc"||aA==="cc-name"||aA==="cc-number"){return true
}if(aF&&aF.value){var aD=az.getAttribute(aF,"type");if(!aD||String(aD).toLowerCase()==="text"){if(/^\d{12,21}$/.test(String(aF.value))){return true}}}if(aE){var aC=aF.parentNode?aF.parentNode:null;while(aC){if(az.hasAttribute(aC,"data-piwik-mask")){return true}else{aC=aC.parentNode?aC.parentNode:null}}}return false}};var aj={isArray:function(aA){return typeof aA==="object"&&aA!==null&&typeof aA.length==="number"},getCurrentTime:function(){return new Date().getTime()},getTimeSincePageReady:function(){if(!B){return 0}return(new Date().getTime())-B},roundTimeToSeconds:function(aA){return Math.round(aA/1000)},getRandomInt:function(aB,aA){return Math.round(Math.random()*(aA-aB)+aB)},isNumber:function(aA){return !isNaN(aA)},trim:function(aA){if(aA&&String(aA)===aA){return aA.replace(/^\s+|\s+$/g,"")}return aA},generateUniqueId:function(){var aD="";var aB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";var aC=aB.length;for(var aA=0;aA<6;aA++){aD+=aB.charAt(Math.floor(Math.random()*aC))
}return aD}};function f(aA){return location.href&&location.href.indexOf(aA)>0}function t(){return f("pk_hsr_forcesample=1")||f("pk_hsr_capturescreen=1")}function s(){return f("pk_hsr_forcesample=0")}function R(aA){if(t()){return true}if(s()){return false}if(aA>=100){return true}if(aA<=0){return false}if(aA>=1){return aA>=aj.getRandomInt(1,D)}return(aA*10)>=aj.getRandomInt(1,D*10)}function n(aA){if("undefined"!==typeof aA.HeatmapSessionRecording){return}aA.HeatmapSessionRecording={myId:aj.generateUniqueId(),hasReceivedConfig:false,hasTrackedData:false,enabled:true,hsrIdsToGetDOM:[],disable:function(){this.enabled=false},enable:function(){this.enabled=true},isEnabled:function(){return H&&this.enabled},Heatmap:{data:[],hsrids:[],configs:[],addConfig:function(aB){if("object"!==typeof aB||!aB.id){return}aB.id=parseInt(aB.id,10);this.configs.push(aB);if("undefined"===typeof aB.sample_rate){aB.sample_rate=D}else{aB.sample_rate=Math.min(parseFloat(aB.sample_rate),D)}if(aB.id&&R(aB.sample_rate)&&z(aB)){this.addHsrId(aB.id);
if(aB.getdom||f("pk_hsr_capturescreen=1")){aA.HeatmapSessionRecording.hsrIdsToGetDOM.push(aB.id)}}},addHsrId:function(aB){this.hsrids.push(aB);if(aA.HeatmapSessionRecording.hasTrackedData){w.recordData(V,{ty:a,id:aB})}}},Both:{data:[]},Session:{data:[],hsrids:[],configs:[],addConfig:function(aD){if("object"!==typeof aD||!aD.id){return}aD.id=parseInt(aD.id,10);if("undefined"===typeof aD.sample_rate){aD.sample_rate=D}else{aD.sample_rate=Math.min(parseFloat(aD.sample_rate),D)}aD.conditionsMet=false;this.configs.push(aD);var aC=parseInt(aA.getSiteId(),10);var aE=q.get(aA,aD.id);if(1===aE&&!s()){aD.sample_rate=D;aD.activity=false;aD.min_time=0}else{if(t()){}else{if(0===aE||!R(aD.sample_rate)){q.set(aA,aD.id,0);return}}}this.checkConditionsMet();if(aD.min_time){var aB=this;Piwik.DOM.onReady(function(){var aF=(aD.min_time*1000)-aj.getTimeSincePageReady()+120;if(aF>=0){setTimeout(function(){aB.checkConditionsMet()},aF)}else{aB.checkConditionsMet()}})}},checkConditionsMet:function(){var aC;for(var aD=0;
aD<this.configs.length;aD++){aC=this.configs[aD];if(aC&&!aC.conditionsMet){var aB=true;if(aC.min_time&&aC.min_time>=aj.roundTimeToSeconds(aj.getTimeSincePageReady())){aB=false}if(aC.activity&&!ad){ad=o.getDocumentHeight()<=o.getWindowSize().height}if(aC.activity&&(!J||!ad)){aB=false}if(aB){aC.conditionsMet=true;if(z(aC)){if("undefined"===typeof aC.keystrokes||!aC.keystrokes||aC.keystrokes==="0"){at=false}this.addHsrId(aC.id)}}}}},addHsrId:function(aB){this.hsrids.push(aB);if(aA.HeatmapSessionRecording.hasTrackedData){w.recordData(c,{ty:a,id:aB})}var aC=parseInt(aA.getSiteId(),10);q.set(aA,aB,1)}},addConfig:function(aB){this.hasReceivedConfig=true;if("undefined"===typeof aB||!aB){ax.checkAllConfigsReceived();return}if("object"===typeof aB.heatmap){this.Heatmap.addConfig(aB.heatmap)}var aC;if(aB.heatmaps&&aj.isArray(aB.heatmaps)&&aB.heatmaps.length){for(aC=0;aC<aB.heatmaps.length;aC++){this.Heatmap.addConfig(aB.heatmaps[aC])}}if(Z){if(aB.sessions&&aj.isArray(aB.sessions)&&aB.sessions.length){for(aC=0;
aC<aB.sessions.length;aC++){this.Session.addConfig(aB.sessions[aC])}}if("object"===typeof aB.session){this.Session.addConfig(aB.session)}}ax.checkAllConfigsReceived()}}}var an=o.getWindowSize();var w={getPiwikTrackers:function(){if(null===m){if("object"===typeof Piwik&&Piwik.getAsyncTrackers){var aA=Piwik.getAsyncTrackers();if(!aA||!aA.length){return[]}return aA}}if(aj.isArray(m)){return m}return[]},sendQueuedData:function(aL){if(!ai||!U){return}if(!aL||!aL.HeatmapSessionRecording){return}var aM=aj.getTimeSincePageReady();var aH=aL.HeatmapSessionRecording;if(u<aM){Piwik.HeatmapSessionRecording.disable(false);return}var aB=[];var aC=[];if(!aH.isEnabled()){return}if(aH.Heatmap.hsrids&&aH.Heatmap.hsrids.length){aB=aH.Heatmap.hsrids;if(aH.Heatmap.data.length){aC=aH.Heatmap.data;aH.Heatmap.data=[]}}if(aH.Session.hsrids&&aH.Session.hsrids.length&&ab.initialDOM){aB=aB.concat(aH.Session.hsrids);if(aH.Session.data.length){aC=aC.concat(aH.Session.data);aH.Session.data=[];if(!at){for(var aE=(aC.length-1);
aE>=0;aE--){if(aC[aE]&&aC[aE].ty&&aC[aE].ty===e){aC.splice(aE,1)}}}}}if(aB.length&&aH.Both.data.length){aC=aC.concat(aH.Both.data);aH.Both.data=[]}if(!aB||!aB.length||!aC||!aC.length){return}if(aL.HeatmapSessionRecording.hsrIdsToGetDOM&&aL.HeatmapSessionRecording.hsrIdsToGetDOM.length){if(!ab.initialDOM&&Z){var aK=new v(I,{initialize:function(aO,aP){ab.initialDOM=W.stringify({rootId:aO,children:aP})}});aK.disconnect()}if(ab.initialDOM&&Z){for(var aG=0;aG<aL.HeatmapSessionRecording.hsrIdsToGetDOM.length;aG++){aC.push({ty:j,dom:ab.initialDOM,id:aL.HeatmapSessionRecording.hsrIdsToGetDOM[aG]})}aL.HeatmapSessionRecording.hsrIdsToGetDOM=[]}}aH.hasTrackedData=true;var aD="";for(var aE=0;aE<aC.length;aE++){for(var aA in aC[aE]){if(Object.prototype.hasOwnProperty.call(aC[aE],aA)){aD+="&hsr_ev["+aE+"]["+aA+"]="+encodeURIComponent(aC[aE][aA])}}}for(var aG=0;aG<aB.length;aG++){aD+="&hsr_ids[]="+encodeURIComponent(aB[aG])}var aI="hsr_vid="+U+aD;var aJ=o.getWindowSize();var aN=o.getDocumentHeight();if(!ab.scrollMaxPercentage){var aF=o.getScrollTop();
ab.scrollMaxPercentage=parseInt(((aJ.height+aF)/aN)*y,10)}aI+="&hsr_vw="+encodeURIComponent(aJ.width);aI+="&hsr_vh="+encodeURIComponent(aJ.height);aI+="&hsr_ti="+aM;aI+="&hsr_smp="+ab.scrollMaxPercentage;aI+="&hsr_fyp="+parseInt((an.height/aN)*y,10);aL.trackRequest(aI,null,null,"HeatmapSessionRecording");M("track: "+aI)},recordData:function(aA,aB){var aD=aj.getTimeSincePageReady();if(u<aD){Piwik.HeatmapSessionRecording.disable();return}if(!aa){ac.push({type:aA,data:aB});return}var aC=w.getPiwikTrackers();aC.forEach(function(aE){if(aE.HeatmapSessionRecording&&aE.HeatmapSessionRecording.isEnabled()){if(ap===aA){aE.HeatmapSessionRecording.Both.data.push(aB)}else{if(V===aA){aE.HeatmapSessionRecording.Heatmap.data.push(aB)}else{if(c===aA){aE.HeatmapSessionRecording.Session.data.push(aB)}}}}});if(k){M("recorddata",W.stringify(aB))}},stopSendingData:function(){var aA=w.getPiwikTrackers();aA.forEach(function(aB){if(aB.HeatmapSessionRecording){var aC=aB.HeatmapSessionRecording;if("undefined"!==typeof aC.trackingInterval){clearInterval(aC.trackingInterval);
delete aC.trackingInterval}}})},startSendingData:function(){var aA=w.getPiwikTrackers();aA.forEach(function(aB){if(aB.HeatmapSessionRecording&&"undefined"===typeof aB.HeatmapSessionRecording.trackingInterval){var aC=aj.getRandomInt(1250,1450);aB.HeatmapSessionRecording.trackingInterval=setInterval(function(){w.sendQueuedData(aB)},aC);w.sendQueuedData(aB)}})}};function aq(){if(typeof window==="object"&&"function"===typeof E.piwikHeatmapSessionRecordingAsyncInit){E.piwikHeatmapSessionRecordingAsyncInit()}var aB=ac;ac=[];aa=true;for(var aA=0;aA<aB.length;aA++){w.recordData(aB[aA].type,aB[aA].data)}Piwik.DOM.onLoad(function(){ai=true;if(H){var aC=w.getPiwikTrackers();if(aC&&aC.length){Piwik.HeatmapSessionRecording.enable()}}})}var ab={moveEvents:["mousemove","touchmove"],clickEvents:["mousedown"],scrollEvents:["scroll","resize"],lastScroll:null,lastMove:null,lastResize:null,scrollMaxPercentage:0,lastResizeInterval:null,lastScrollInterval:null,lastMoveInterval:null,isRecording:false,isRecordingMutations:false,startRecording:function(){if(!H||this.isRecording){return
}this.isRecording=true;this.lastScrollInterval=setInterval(function(){if(ab.lastScroll){var aA=ab.lastScroll;ab.lastScroll=null;var aB={ti:aA.time,ty:g,x:aA.scrollX,y:aA.scrollY};w.recordData(c,aB)}},200);this.lastResizeInterval=setInterval(function(){if(ab.lastResize){var aA=ab.lastResize;ab.lastResize=null;var aB={ti:aA.ti,ty:N,x:aA.width,y:aA.height};w.recordData(c,aB)}},200);this.lastMoveInterval=setInterval(function(){if(ab.lastMove){var aA=ab.lastMove;ab.lastMove=null;var aB={ti:aA.time,ty:p,s:aA.selector,x:aA.offsetx,y:aA.offsety};w.recordData(ap,aB)}},200);this.scrollEvents.forEach(function(aA){E.addEventListener(aA,ab.onScroll,true)});this.clickEvents.forEach(function(aA){E.addEventListener(aA,ab.onClick,true)});this.moveEvents.forEach(function(aA){E.addEventListener(aA,ab.onMove,true)})},mirror:null,initialDOM:null,startRecordingMutations:function(){if(!H||!Z||this.isRecordingMutations){return}this.isRecordingMutations=true;E.addEventListener("resize",ab.onResize,true);E.addEventListener("change",ab.onFormChange,true);
try{this.mirror=new v(document,{initialize:function(aB,aC){var aD={ty:av,ti:0,te:W.stringify({rootId:aB,children:aC})};if(!ab.initialDOM){ab.initialDOM=aD.te}w.recordData(c,aD)},applyChanged:function(aE,aC,aB,aF){if(aE.length||aC.length||aB.length||aF.length){var aD={ti:aj.getTimeSincePageReady(),ty:X,te:{}};if(aE.length){aD.te.rem=aE}if(aC.length){aD.te.adOrMo=aC}if(aB.length){aD.te.att=aB}if(aF.length){aD.te.text=aF}aD.te=W.stringify(aD.te);w.recordData(c,aD)}}})}catch(aA){M(aA)}},onResize:function(){var aA=o.getWindowSize();ab.lastResize={ti:aj.getTimeSincePageReady(),width:aA.width,height:aA.height}},onFormChange:function(aI){if(!("target" in aI)||!aI.target){return}var aD=aI.target;var aB=az.getTagName(aD);if(!aB){return}var aC=aj.getTimeSincePageReady();var aA=ah;var aE=false;if(aB==="input"){var aH=az.getAttribute(aD,"type");if(String(aH).toLowerCase()==="radio"||String(aH).toLowerCase()==="checkbox"){aE=true}else{aA=e}}else{if(aB==="textarea"){aA=e}else{if(aB!=="select"){return}}}if(!at&&aA===e){return
}var aF=az.getSelector(aD);var aJ="";if(aE){aJ=aD.checked?"1":"0"}else{if(aA===e&&"undefined"!==typeof aD.value){aJ=String(aD.value);if(aJ>Q){aJ=aJ.substr(0,Q)}if(az.shouldMaskContent(aD,true)){aJ=aJ.replace(/./g,"*")}}else{if(aA===ah&&"undefined"!==typeof aD.value){aJ=String(aD.value)}}}var aG={ti:aC,ty:aA,s:aF,te:aJ};if(aF){w.recordData(c,aG)}else{M("No selector found for text input ",aI)}},onScroll:function(){if(!ad){ad=true;ab.checkTrackersIfConditionsMet()}var aF=aj.getTimeSincePageReady();var aE=parseInt(o.getScrollTop(),10);var aD=parseInt(o.getScrollLeft(),10);var aB=o.getDocumentHeight();var aC=o.getDocumentWidth();ab.lastScroll={time:aF,scrollY:parseInt((y*aE)/aB,10),scrollX:parseInt((y*aD)/aC,10)};var aA=parseInt((y*(aE+o.getWindowSize().height))/aB,10);if(aA>ab.scrollMaxPercentage){ab.scrollMaxPercentage=aA}},checkTrackersIfConditionsMet:function(){var aB=w.getPiwikTrackers();for(var aA=0;aA<aB.length;aA++){if(aB[aA]&&aB[aA].HeatmapSessionRecording&&aB[aA].HeatmapSessionRecording.Session){aB[aA].HeatmapSessionRecording.Session.checkConditionsMet()
}}},onClick:function(aF){M("click");if(!J){J=true;ab.checkTrackersIfConditionsMet()}if(!("target" in aF)||!("pageY" in aF)||!("pageX" in aF)||!aF.target){return}var aE=aj.getTimeSincePageReady();ab.lastMove=null;var aG=az.getOffset(aF.target);var aC=parseInt(((aF.pageX-aG.left)/aG.width)*am,10);var aB=parseInt(((aF.pageY-aG.top)/aG.height)*am,10);var aA=az.getSelector(aF.target);if(aC%2===1){aC++}if(aB%2===1){aB++}var aD={ti:aE,ty:au,s:aA,x:aC,y:aB};if(aA){w.recordData(ap,aD)}else{M("No selector found for click ",aF)}},onMove:function(aH){if(!("clientY" in aH)||!("clientX" in aH)||!("pageX" in aH)||!("pageY" in aH)){return}var aJ=aH.clientX;var aI=aH.clientY;var aD=I.elementFromPoint(aJ,aI);if(aD){var aC=aj.getTimeSincePageReady();var aF=az.getOffset(aD);var aB=parseInt(((aH.pageX-aF.left)/aF.width)*am,10);var aA=parseInt(((aH.pageY-aF.top)/aF.height)*am,10);if(aB%2===1){aB++}if(aA%2===1){aA++}var aE=az.getSelector(aD);if(aE){if(!C){C=true;var aG={ti:0,ty:p,s:aE,x:aB,y:aA};w.recordData(ap,aG)
}else{ab.lastMove={selector:aE,offsetx:aB,offsety:aA,time:aC}}}else{M("No selector found for click ",aH)}}},stopRecording:function(){this.isRecording=false;if(this.lastResizeInterval!==null){clearInterval(this.lastResizeInterval);this.lastResizeInterval=null}if(this.lastScrollInterval!==null){clearInterval(this.lastScrollInterval);this.lastScrollInterval=null}if(this.lastMoveInterval!==null){clearInterval(this.lastMoveInterval);this.lastMoveInterval=null}this.scrollMaxPercentage=0;this.lastScroll=null;this.lastMove=null;this.lastResize=null;this.scrollEvents.forEach(function(aA){E.removeEventListener(aA,ab.onScroll,true)});this.moveEvents.forEach(function(aA){E.removeEventListener(aA,ab.onMove,true)});this.clickEvents.forEach(function(aA){E.removeEventListener(aA,ab.onClick,true)})},stopRecordingMutations:function(){this.isRecordingMutations=false;E.removeEventListener("resize",ab.onResize,true);E.removeEventListener("change",ab.onFormChange,true);this.initialDOM=null;if(this.mirror){this.mirror.disconnect();
this.mirror=null}}};var ax={fetch:function(){var aJ=0;var aE=w.getPiwikTrackers();if(!aE||!aE.length){return}for(var aD=0;aD<aE.length;aD++){var aI=aE[aD];if(aI&&aI.HeatmapSessionRecording&&!aI.HeatmapSessionRecording.hasReceivedConfig&&aI.HeatmapSessionRecording.isEnabled()){var aH=aI.getPiwikUrl();var aF=aI.getSiteId();if(!aH||!aF){M("cannot find piwik url for tracker or site, disabling heatmap & session recording");aI.HeatmapSessionRecording.disable();aI.HeatmapSessionRecording.hasReceivedConfig=true;continue}if(aH.substr(-1,1)!=="/"){aH+="/"}aJ++;var aA;if(L){aA=aI.getCurrentUrl()}else{aA=E.location.href;try{aA=decodeURIComponent(aA)}catch(aG){aA=unescape(aA)}}aH+="plugins/HeatmapSessionRecording/configs.php?idsite="+encodeURIComponent(aF)+"&trackerid="+aI.HeatmapSessionRecording.myId+"&url="+encodeURIComponent(aA);var aB=q.getHsrConfigs(aI);for(var aC=0;aC<aB.length;aC++){aH+="&hsr"+encodeURIComponent(aB[aC].id)+"="+encodeURIComponent(aB[aC].value)}(function(aL){var aK=I.createElement("script");
aK.src=aH;aK.async=true;aK.defer=true;aK.onerror=function(){aL.HeatmapSessionRecording.disable();aL.HeatmapSessionRecording.hasReceivedConfig=true;ax.checkAllConfigsReceived()};setTimeout(function(){var aN=I.getElementsByTagName("head");if(aN&&aN.length&&aN[0]){aN[0].appendChild(aK)}else{var aM=I.getElementsByTagName("body");if(aM&&aM.length&&aM[0]){aM[0].appendChild(aK)}}},10)})(aI)}}if(aJ===0){this.checkAllConfigsReceived()}},assign:function(aA){var aD=w.getPiwikTrackers();for(var aB=0;aB<aD.length;aB++){var aC=aD[aB];if(aC&&aC.HeatmapSessionRecording){if(aC.getSiteId()==aA.idsite&&aC.HeatmapSessionRecording.myId===aA.trackerid){aC.HeatmapSessionRecording.addConfig(aA);break}}}this.checkAllConfigsReceived()},checkAllConfigsReceived:function(){var aE=w.getPiwikTrackers();var aD=false;var aA=false;var aC;for(var aB=0;aB<aE.length;aB++){if(aE[aB].HeatmapSessionRecording){aC=aE[aB].HeatmapSessionRecording;if(!aC.hasReceivedConfig){return}if(aC.Heatmap.configs&&aC.Heatmap.configs.length){aD=true
}if(aC.Session.configs&&aC.Session.configs.length){aA=true}}}if(!aD&&!aA){Piwik.HeatmapSessionRecording.disable()}else{if(!aA){Piwik.DOM.onLoad(function(){ab.stopRecordingMutations()})}}}};function Y(){if("object"===typeof window&&"object"===typeof E.Piwik&&"object"===typeof E.Piwik.HeatmapSessionRecording){return}if("object"===typeof window&&!E.Piwik){return}W=Piwik.JSON;Piwik.HeatmapSessionRecording={utils:aj,element:az,storage:q,dom:o,tracking:w,recording:ab,RECORD_TYPE_BOTH:ap,RECORD_TYPE_HEATMAP:V,RECORD_TYPE_SESSION:c,configuration:ax,getIdView:function(){return U},disableAutoDetectNewPageView:function(){ay=false},enableAutoDetectNewPageView:function(){ay=true},isAutoDetectingNewPageViews:function(){return ay},matchTrackerUrl:function(){return L=true},setTrigger:function(aB){if(typeof aB==="function"){z=aB}else{throw Error("trigger needs to be a method")}},setNewPageView:function(aC){if(r()){return}M("new pageview");var aB=this.isEnabled();if(aB){this.disable()}U=aj.generateUniqueId();
B=new Date().getTime();ac=[];J=false;ad=false;var aD=w.getPiwikTrackers();aD.forEach(function(aF){var aE=true;if("undefined"!==typeof aF.HeatmapSessionRecording){aE=aF.HeatmapSessionRecording.enabled;delete aF.HeatmapSessionRecording}n(aF);if(!aE){aF.HeatmapSessionRecording.disable()}});if(aB){this.enable();if("undefined"===typeof aC||aC===true){ax.fetch()}else{if("object"===typeof aC){aD.forEach(function(aE){aE.HeatmapSessionRecording.addConfig(aC)})}else{M("manual tracker config required")}}}},disable:function(aB){if(r()){return}if("undefined"===typeof aB||aB){var aC=w.getPiwikTrackers();aC.forEach(w.sendQueuedData)}H=false;ab.stopRecording();ab.stopRecordingMutations();w.stopSendingData()},enable:function(){if(r()){return}H=true;ab.startRecording();ab.startRecordingMutations();w.startSendingData()},isEnabled:function(){return H},setMaxCaptureTime:function(aB){u=parseInt(aB,10)*1000},setMaxTextInputLength:function(aB){Q=aB},disableCaptureKeystrokes:function(){at=false},enableCaptureKeystrokes:function(){at=true
},setPiwikTrackers:function(aB){if(aB===null){m=null;return}if(!aj.isArray(aB)){aB=[aB]}m=aB;m.forEach(n)},enableDebugMode:function(){k=true}};Piwik.DOM.onReady(function(){B=new Date().getTime()});Piwik.addPlugin("HeatmapSessionRecording",{log:function(aB){if(ay){if(aB.tracker&&aB.tracker.getNumTrackedPageViews&&aB.tracker.getNumTrackedPageViews()>1){setTimeout(function(){Piwik.HeatmapSessionRecording.setNewPageView(true)},10)}}return""},unload:function(){if(!r()){w.stopSendingData();var aB=w.getPiwikTrackers();aB.forEach(w.sendQueuedData)}}});if(E.Piwik.initialized){var aA=Piwik.getAsyncTrackers();aA.forEach(n);Piwik.on("TrackerSetup",n);Piwik.retryMissedPluginCalls();aq();ax.fetch()}else{Piwik.on("TrackerSetup",n);Piwik.on("PiwikInitialized",function(){aq();ax.fetch()})}}U=aj.generateUniqueId();if("object"===typeof E.Piwik){Y()}else{if("object"!==typeof E.piwikPluginAsyncInit){E.piwikPluginAsyncInit=[]}E.piwikPluginAsyncInit.push(Y)}})();